(this.webpackJsonpgrowithead=this.webpackJsonpgrowithead||[]).push([[3],{158:function(e,t,a){e.exports={constructor:"Constructor_constructor__e_uI7",pizza:"Constructor_pizza__jE030",ingredients:"Constructor_ingredients__206r3",ingredientsCategories:"Constructor_ingredientsCategories__I74gf",activeCategory:"Constructor_activeCategory__31g8r",order:"Constructor_order__34N6-",orderButton:"Constructor_orderButton__y5N1d",ingredientsProducts:"Constructor_ingredientsProducts__22x1_",ingredientsProducts__image:"Constructor_ingredientsProducts__image__34tGU",item:"Constructor_item__3QYLo",itemCount:"Constructor_itemCount__Sjkw0",activeAdded:"Constructor_activeAdded__hR8bz",activeRemoved:"Constructor_activeRemoved__3bG9I",itemCount__minus:"Constructor_itemCount__minus__3WwlF",itemCount__plus:"Constructor_itemCount__plus__2HxB1",itemName:"Constructor_itemName__1D4ZG"}},160:function(e,t,a){"use strict";a.r(t);var r=a(16),n=a(17),c=a(18),o=a(19),u=a(0),s=a.n(u),d=a(29),i=a(50),l=a(158),m=a.n(l),P=a(103),v=a(34);function _(){var e=Object(v.a)(["\n    display: ",";\n    position: absolute;\n    top: 41px;\n    right: 157px;\n    width: 300px;\n  img{\n  width:421px;\n  }\n  @media (max-width:1400px) {\n  top: 20px;\n    right: -21px;\n    img{\n  width:263px;\n       }\n  }\n  }\n    @media (max-width:660px) {\n    top: 8px;\n    right: -135px;\n    img{\n  width:157px;\n       }\n  }\n  }\n"]);return _=function(){return e},e}var C=a(35).a.div(_(),(function(e){return e.show?"block":"none"})),p=function(e){var t=e.children,a=e.show;return s.a.createElement(C,{show:a},t)},g=a(2),h=Object(u.memo)((function(e){var t=e.product,a=t.id,r=t.name,n=t.price,c=t.image,o=e.addProductClass,u=e.addProduct,d=e.removeProduct,i="".concat(o.includes(a)?m.a.itemCount__minus:[m.a.itemCount__minus,m.a.activeRemoved].join(" ")),l="".concat(o.some((function(e){return e===a}))?[m.a.itemCount__plus,m.a.activeAdded].join(" "):m.a.itemCount__plus);return s.a.createElement("div",{className:m.a.item,key:a},s.a.createElement("div",{className:m.a.ingredientsProducts__image},s.a.createElement("img",{src:c,alt:"Product"})),s.a.createElement("div",{className:m.a.itemCount},s.a.createElement("button",{disabled:o.length<=0||!o.includes(a),onClick:function(){return d(n,a)},className:i},"-"),s.a.createElement("button",{disabled:o.some((function(e){return e===a})),onClick:function(){return u(n,a)},className:l},"+")),s.a.createElement("p",{className:m.a.itemName},r),s.a.createElement("span",{className:m.a.itemPrice},"$",n))})),E=function(e){var t=e.vegetables,a=e.addProductClass,r=e.addProduct,n=e.removeProduct;return s.a.createElement(s.a.Fragment,null,t.map((function(e){return s.a.createElement(h,{key:e.id,product:e,addProductClass:a,addProduct:r,removeProduct:n})})))},b=function(e){var t=e.fish,a=e.addProductClass,r=e.addProduct,n=e.removeProduct;return s.a.createElement(s.a.Fragment,null,t.map((function(e){return s.a.createElement(h,{key:e.id,product:e,addProductClass:a,addProduct:r,removeProduct:n})})))},f=function(e){var t=e.cheese,a=e.addProductClass,r=e.addProduct,n=e.removeProduct;return s.a.createElement(s.a.Fragment,null,t.map((function(e){return s.a.createElement(h,{key:e.id,product:e,addProductClass:a,addProduct:r,removeProduct:n})})))},k=function(e){var t=e.meat,a=e.addProductClass,r=e.addProduct,n=e.removeProduct;return s.a.createElement(s.a.Fragment,null,t.map((function(e){return s.a.createElement(h,{key:e.id,product:e,addProductClass:a,addProduct:r,removeProduct:n})})))},N=function(e){var t=e.addProductClass,a=e.addProduct,r=e.removeProduct,n=e.vegetables,c=e.fish,o=e.cheese,u=e.meat;return s.a.createElement(s.a.Fragment,null,s.a.createElement(g.c,null,s.a.createElement(g.a,{path:"/constructor/vegetables",component:function(){return s.a.createElement(E,{addProductClass:t,addProduct:a,removeProduct:r,vegetables:n})}}),s.a.createElement(g.a,{path:"/constructor/fish",component:function(){return s.a.createElement(b,{addProductClass:t,addProduct:a,removeProduct:r,fish:c})}}),s.a.createElement(g.a,{path:"/constructor/meat",component:function(){return s.a.createElement(k,{addProductClass:t,addProduct:a,removeProduct:r,meat:u})}}),s.a.createElement(g.a,{path:"/constructor/cheese",component:function(){return s.a.createElement(f,{addProductClass:t,addProduct:a,removeProduct:r,cheese:o})}})))},j=a(21),y=function(e){var t=e.allConstructorProducts,a=e.vegetables,r=e.fish,n=e.cheese,c=e.meat,o=e.addProductToBasket,l=e.basketState,v=Object(u.useState)([]),_=Object(i.a)(v,2),C=_[0],g=_[1],h=Object(u.useState)(0),E=Object(i.a)(h,2),b=E[0],f=E[1];return s.a.createElement("div",{className:m.a.constructor},s.a.createElement("div",{className:m.a.pizza},s.a.createElement("img",{src:"https://res.cloudinary.com/minak/image/upload/v1594645855/PastaPizza/Constructor/emptyPizza_ze8hwy.svg",alt:"Pizza"}),t.map((function(e){var t=e.imagePiece,a=e.id;return s.a.createElement(p,{key:a,show:C.some((function(e){return e===a}))},s.a.createElement("img",{src:t,alt:"Product"}))}))),s.a.createElement("div",{className:m.a.ingredients},s.a.createElement("div",{className:m.a.ingredientsCategories},s.a.createElement(j.b,{activeClassName:m.a.activeCategory,to:"/constructor/vegetables"},s.a.createElement("span",null,s.a.createElement(P.d,null))),s.a.createElement(j.b,{activeClassName:m.a.activeCategory,to:"/constructor/fish"},s.a.createElement("span",null,s.a.createElement(P.b,null))),s.a.createElement(j.b,{activeClassName:m.a.activeCategory,to:"/constructor/meat"},s.a.createElement("span",null,s.a.createElement(P.c,null))),s.a.createElement(j.b,{activeClassName:m.a.activeCategory,to:"/constructor/cheese"},s.a.createElement("span",null,s.a.createElement(P.a,null))),s.a.createElement("div",{className:m.a.order},s.a.createElement("span",{className:m.a.sumPrice},"Sum ",b," $"),s.a.createElement("button",{disabled:0===C.length,onClick:function(){C.length>0&&o({name:"Constructor",category:"constructor",checkedConstructorProducts:t.filter((function(e){return C.includes(e.id)})),checkedProductsIds:C,sumPrice:b,id:Date.now()}),l(!0),f(0),g([])},className:m.a.orderButton},"Order"))),s.a.createElement("div",{className:m.a.ingredientsProducts},s.a.createElement(N,{removeProduct:function(e,t){var a=+(b-e).toFixed(1);f(a),g(C.filter((function(e){return e!==t})))},addProduct:function(e,t){var a=+(b+e).toFixed(1);f(a),g([].concat(Object(d.a)(C),[t]))},addProductClass:C,vegetables:a,fish:r,meat:c,cheese:n}))))},x=a(11),w=a(51),O=a(40),z=a(15),R=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(n.a)(a,[{key:"render",value:function(){var e=this.props,t=e.allConstructorProducts,a=e.vegetables,r=e.fish,n=e.meat,c=e.cheese,o=e.addProductToBasket,u=e.basketState;return s.a.createElement(y,{allConstructorProducts:t,vegetables:a,fish:r,meat:n,cheese:c,addProductToBasket:o,basketState:u})}}]),a}(u.Component);t.default=Object(z.compose)(g.f,Object(x.c)((function(e,t){var a=t.match.params.category;return{allConstructorProducts:e.allProductsReducer.allConstructorProducts,vegetables:Object(O.b)(e.allProductsReducer.allProducts,a),fish:Object(O.b)(e.allProductsReducer.allProducts,a),meat:Object(O.b)(e.allProductsReducer.allProducts,a),cheese:Object(O.b)(e.allProductsReducer.allProducts,a)}}),{addProductToBasket:w.a}))(R)}}]);
//# sourceMappingURL=3.48d1705a.chunk.js.map